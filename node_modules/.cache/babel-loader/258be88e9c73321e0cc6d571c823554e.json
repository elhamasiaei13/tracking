{"ast":null,"code":"var _jsxFileName = \"/parvan/reactProjects/tracking/src/components/ShipperStatus.js\";\nimport React, { Component } from 'react';\nimport TimeLine from './persentational/TimeLine';\nimport TimeLineLabel from './persentational/TimeLineLabel';\nimport Card from './persentational/Card';\nimport Row from './persentational/Row';\nimport Col from './persentational/Col';\nimport ViewData from './persentational/ViewData';\nimport { FormattedMessage } from 'react-intl';\nimport axios from 'axios';\nimport testData from '../test.json';\nimport { withRouter } from 'react-router-dom';\nimport ShowImage from './ShowImage'; // let waybillNumberlet = undefined\n// let showTab = \"currentStatus\"\n\nclass ShipperStatus extends Component {\n  constructor(props) {\n    super(props);\n\n    this.submit = e => {\n      e.preventDefault();\n      this.getData();\n    };\n\n    this.state = {\n      totalPieces: 1,\n      history: [],\n      data: null,\n      showTab: \"currentStatus\",\n      waybillNumber: undefined\n    };\n  }\n\n  componentWillMount() {\n    console.log(\"componentWillMount\", this);\n    let x = this.props.location.pathname;\n    console.log(x);\n\n    if (this.props.location.pathname) {\n      let str = this.props.location.pathname;\n      let res = str.split(\"/\");\n      let len = res.length;\n      let test = len - 1;\n\n      if (res[test].length > 0) {\n        this.setState({\n          waybillNumber: res[test]\n        });\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  getData() {\n    const PROTOCOL = process.env.REACT_APP_REMOTE_SERVICE_PROTOCOL;\n    const HOST = process.env.REACT_APP_REMOTE_SERVICE_HOST_NAME;\n    const PORT = process.env.REACT_APP_REMOTE_SERVICE_HOST_PORT;\n    const HOST_URL = `${PROTOCOL}://${HOST}:${PORT}/v1`;\n    const {\n      waybillNumber\n    } = this.state;\n    axios.get(HOST_URL + '/shipments/' + waybillNumber, {\n      params: {},\n      auth: {\n        username: \"teamapp\",\n        password: \"tp#4298\"\n      }\n    }).then(response => {\n      this.setState({\n        data: response.data.data\n      });\n      console.log(\"response.data\", response.data);\n    }).catch(error => {\n      console.log(\"error\", error); // ErrorCatchHandeling(error)\n    });\n    console.log(\"state\", this.state);\n  }\n\n  showPartNumber(arg) {\n    const array = [];\n    const length = arg.length;\n    var i = 0;\n    arg.map((item, index) => {\n      i++;\n\n      if (i == length) {\n        array.push(React.createElement(\"span\", {\n          key: index + item,\n          className: \"myapp-p-r-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, item));\n      } else {\n        array.push(React.createElement(\"span\", {\n          key: index + item,\n          className: \"myapp-p-r-5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, item, \" ,\"));\n      }\n    });\n    return array;\n  }\n\n  showHistory() {\n    const array = [];\n    const {\n      data\n    } = this.state;\n    const history = data && data.trackingInfo ? this.state.data.trackingInfo ? this.state.data.trackingInfo.history ? this.state.data.trackingInfo.history : [] : [] : [];\n    const totalPieces = data && data.trackingInfo ? this.state.data.trackingInfo ? this.state.data.trackingInfo.totalPieces ? this.state.data.trackingInfo.totalPieces : 1 : null : null;\n    let lastItem = {\n      localDate: ''\n    };\n    let i = 41000;\n    history.map((item, index) => {\n      if (item.localDate !== lastItem.localDate) {\n        array.push(React.createElement(TimeLineLabel, {\n          key: \"trackingHistoriId\" + item.localDateTime + index,\n          value: item.localDate,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }));\n      }\n\n      array.push(React.createElement(TimeLine, {\n        key: \"trackingHistor\" + index,\n        title: React.createElement(React.Fragment, null, item.count, \" \", \"  \", \" \\u0627\\u0632 \", \"  \", \" \", totalPieces, \" \", \"  \", \"\\u0628\\u0633\\u062A\\u0647\", \" : \", React.createElement(FormattedMessage, {\n          id: item.state,\n          defaultMessage: item.state,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        })),\n        clock: item.localDateTime,\n        address: item.location,\n        iconName: item.state == \"ISSUED\" ? \"fa-file bg-green\" : item.state == \"DRAFT\" ? \"fa-file\" : item.state == \"MANIFESTED\" ? \"fa-book bg-maroon\" : item.state == \"IN_TRANSIT\" ? \"fa-plane bg-yellow\" : item.state == \"CONFIRMED_PICKUP_REQ\" ? \"fa-envelope bg-orange\" : item.state == \"VOIDED\" ? \"fa-ban bg-red\" : item.state == \"IN_WAREHOUSE\" ? \"fa-building bg-teal\" : item.state == \"DELIVERED\" ? \"fa-home bg-olive\" : item.state == \"NOT_DELIVERED\" ? \"fa-thumbs-down bg-teal\" : item.state == \"RETURNED\" ? \"fa-thumbs-down bg-navy\" : item.state == \"MASTERED\" ? \"fa-book bg-blue\" : item.state == \"OFFLOADED\" ? \"fa-book bg-red\" : item.state == \"OUT_FOR_DELIVERY\" ? \"fa-truck bg-purple\" : '',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }));\n      lastItem = item;\n    });\n    return array; // return( <TimeLineLabel value={item.localDate} />)\n  }\n\n  showStatus() {\n    const array = [];\n    const {\n      data\n    } = this.state;\n    const total = data && data.trackingInfo ? data.trackingInfo.totalPieces : 0;\n    const item = data && data.trackingInfo ? data.trackingInfo.current : null;\n    let i = 81000;\n\n    if (item != null) {\n      return React.createElement(React.Fragment, null, React.createElement(\"li\", {\n        className: \"form-group row control-label col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"m-r-10 mdi mdi-checkbox-blank-circle m-r-12 text-cyan font-7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"waybillNumber\",\n        defaultMessage: \"waybillNumber\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), \": \", data.waybillNumber)), React.createElement(\"li\", {\n        className: \"form-group row control-label col-form-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"m-r-10 mdi mdi-checkbox-blank-circle m-r-12 text-cyan font-7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"reference\",\n        defaultMessage: \"reference\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), \" : \", data.reference)), React.createElement(\"li\", {\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"m-r-10 mdi mdi-checkbox-blank-circle m-r-12 text-cyan font-7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(FormattedMessage, {\n        id: \"currentStatus\",\n        defaultMessage: \"currentStatus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }))), React.createElement(\"li\", {\n        key: \"currentprent\" + i,\n        className: \"form-group row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(ViewData, {\n        key: item + i,\n        value: React.createElement(React.Fragment, null, React.createElement(\"i\", {\n          className: \"m-r-10 mdi mdi-checkbox-blank-circle m-r-12 text-cyan font-7\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }), item.count, \" \\u0627\\u0632 \", total, \" \\u0628\\u0633\\u062A\\u0647\", \" \", React.createElement(\"span\", {\n          className: \"label label-rounded \" + item.state == \"ISSUED\" ? \"label label-rounded  bg-green\" : item.state == \"DRAFT\" ? \"label label-rounded fa-file\" : item.state == \"MANIFESTED\" ? \"label label-rounded  bg-maroon\" : item.state == \"IN_TRANSIT\" ? \"label label-rounded  bg-yellow\" : item.state == \"CONFIRMED_PICKUP_REQ\" ? \"label label-rounded  bg-orange\" : item.state == \"VOIDED\" ? \"label label-rounded  bg-red\" : item.state == \"IN_WAREHOUSE\" ? \"label label-rounded  bg-teal\" : item.state == \"DELIVERED\" ? \"label label-rounded bg-olive\" : item.state == \"NOT_DELIVERED\" ? \"label label-rounded  bg-teal\" : item.state == \"RETURNED\" ? \"label label-rounded  bg-navy\" : item.state == \"MASTERED\" ? \"label label-rounded  bg-blue\" : item.state == \"OFFLOADED\" ? \" bg-red\" : item.state == \"label label-rounded  OUT_FOR_DELIVERY\" ? \"label label-rounded   bg-purple\" : '',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, React.createElement(FormattedMessage, {\n          id: item.state,\n          defaultMessage: item.state,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        })), \" \", item.location),\n        valueClassName: \"padding-right col-md-12\",\n        icon: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      })), React.createElement(\"li\", {\n        key: \"currentpartsNumbers\" + i,\n        className: \" m-r-myapp-25 font-color \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"m-r-10 mdi mdi-checkbox-blank-circle-outline m-r-12 text-cyan font-7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, this.showPartNumber(item.partNumbers))), !item.comment ? React.createElement(\"div\", {\n        className: \"m-b-app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }) : React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        key: \"comment\" + i,\n        className: \"m-b-app m-r-myapp-25 font-color \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"m-r-10 mdi mdi-checkbox-blank-circle-outline m-r-12 text-cyan font-7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }), item.comment)));\n    }\n  }\n\n  onChange(e) {\n    // waybillNumber = e.target.value\n    this.setState({\n      waybillNumber: e.target.value\n    }, this.getData);\n  }\n\n  render() {\n    const {\n      data,\n      showTab,\n      waybillNumber\n    } = this.state;\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      class: \"container px-lg-5 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"container\",\n      sm: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, React.createElement(Card, {\n      cardTitle: React.createElement(FormattedMessage, {\n        id: \"trackShipment\",\n        defaultMessage: \"trackShipment\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }),\n      cardClass: \" \",\n      cardBodyClass: \"myap-p-t-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form-group row\",\n      onSubmit: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"fname\",\n      className: \"col-sm-3 col-md-3 text-right control-label\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(FormattedMessage, {\n      id: \"waybillNumber\",\n      defaultMessage: \"waybillNumber\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-sm-12  col-md-7 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"textid\",\n      placeholder: \"placeholder\",\n      onChange: e => this.onChange(e),\n      value: waybillNumber,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-sm-12  col-md-2 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"ti-search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }))))))), data != null && React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(Col, {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, React.createElement(Card, {\n      cardTitle: React.createElement(FormattedMessage, {\n        id: \"shipperStatus\",\n        defaultMessage: \"shipperStatus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }),\n      cardClass: \" \",\n      cardBodyClass: \"myap-p-t-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      class: \"nav nav-tabs directionRTL\",\n      role: \"tablist\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      class: \"nav-item\",\n      onClick: () => this.setState({\n        showTab: \"currentStatus\"\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: showTab === \"currentStatus\" ? \"nav-link active\" : \"nav-link \",\n      role: \"tab\",\n      \"aria-selected\": showTab === \"currentStatus\" ? \"true\" : \"false\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"hidden-sm-up\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"ti-home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      class: \"hidden-xs-down\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, React.createElement(FormattedMessage, {\n      id: \"currentStatus\",\n      defaultMessage: \"currentStatus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    })))), React.createElement(\"li\", {\n      class: \"nav-item\",\n      onClick: () => this.setState({\n        showTab: \"signature\"\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: showTab === \"signature\" ? \"nav-link active\" : \"nav-link \",\n      role: \"tab\",\n      \"aria-selected\": showTab === \"signature\" ? \"true\" : \"false\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"hidden-xs-down\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }, React.createElement(FormattedMessage, {\n      id: \"signature\",\n      defaultMessage: \"signature\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      class: \"tab-content tabcontent-border\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"tab-pane active\",\n      id: \"home\",\n      role: \"tabpanel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"p-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }, showTab === \"currentStatus\" ? React.createElement(React.Fragment, null, React.createElement(\"ul\", {\n      key: \"uls1\",\n      className: \"list-style-none\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, this.showStatus()), React.createElement(\"ul\", {\n      key: \"uls2\",\n      className: \"timeline card text-black bg-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, this.showHistory()), \" \") : React.createElement(ShowImage, {\n      data: data && data.attachments ? data.attachments : [],\n      waybillNumber: waybillNumber,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    })))))))));\n  }\n\n}\n\nShipperStatus.defaultProps = {\n  data: {\n    totalAmount: 'totalAmount',\n    paymentMethod: 'paymentMethod',\n    chargeParty: 'chargeParty',\n    paymentReferenceInfo: 'paymentReferenceInfo'\n  }\n};\nexport default withRouter(ShipperStatus);","map":{"version":3,"sources":["/parvan/reactProjects/tracking/src/components/ShipperStatus.js"],"names":["React","Component","TimeLine","TimeLineLabel","Card","Row","Col","ViewData","FormattedMessage","axios","testData","withRouter","ShowImage","ShipperStatus","constructor","props","submit","e","preventDefault","getData","state","totalPieces","history","data","showTab","waybillNumber","undefined","componentWillMount","console","log","x","location","pathname","str","res","split","len","length","test","setState","componentDidMount","PROTOCOL","process","env","REACT_APP_REMOTE_SERVICE_PROTOCOL","HOST","REACT_APP_REMOTE_SERVICE_HOST_NAME","PORT","REACT_APP_REMOTE_SERVICE_HOST_PORT","HOST_URL","get","params","auth","username","password","then","response","catch","error","showPartNumber","arg","array","i","map","item","index","push","showHistory","trackingInfo","lastItem","localDate","localDateTime","count","showStatus","total","current","reference","partNumbers","comment","onChange","target","value","render","attachments","defaultProps","totalAmount","paymentMethod","chargeParty","paymentReferenceInfo"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport TimeLine from './persentational/TimeLine'\nimport TimeLineLabel from './persentational/TimeLineLabel'\nimport Card from './persentational/Card'\nimport Row from './persentational/Row'\nimport Col from './persentational/Col';\nimport ViewData from './persentational/ViewData';\nimport { FormattedMessage } from 'react-intl';\nimport axios from 'axios';\nimport testData from '../test.json';\nimport { withRouter } from 'react-router-dom'\nimport ShowImage from './ShowImage';\n\n// let waybillNumberlet = undefined\n// let showTab = \"currentStatus\"\n\nclass ShipperStatus extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            totalPieces: 1,\n            history: [],\n            data: null,\n            showTab: \"currentStatus\",\n            waybillNumber: undefined\n        }\n    }\n\n    componentWillMount() {\n        console.log(\"componentWillMount\", this);\n        let x = this.props.location.pathname\n        console.log(x);\n        if (this.props.location.pathname) {\n            let str = this.props.location.pathname\n            let res = str.split(\"/\");\n            let len = res.length\n            let test = len - 1\n            if ((res[test].length > 0)) {\n                this.setState({ waybillNumber: res[test] })\n            }\n        }\n    }\n\n    componentDidMount() {\n        this.getData()\n    }\n\n    getData() {\n        const PROTOCOL = process.env.REACT_APP_REMOTE_SERVICE_PROTOCOL;\n        const HOST = process.env.REACT_APP_REMOTE_SERVICE_HOST_NAME;\n        const PORT = process.env.REACT_APP_REMOTE_SERVICE_HOST_PORT;\n        const HOST_URL = `${PROTOCOL}://${HOST}:${PORT}/v1`;\n        const { waybillNumber } = this.state\n        axios.get(HOST_URL + '/shipments/' + waybillNumber, {\n            params: {},\n            auth: { username: \"teamapp\", password: \"tp#4298\" }\n        })\n            .then((response) => {\n                this.setState({ data: response.data.data })\n                console.log(\"response.data\", response.data);\n\n            })\n            .catch((error) => {\n                console.log(\"error\", error);\n                // ErrorCatchHandeling(error)\n            })\n        console.log(\"state\", this.state);\n    }\n\n    showPartNumber(arg) {\n        const array = []\n        const length = arg.length\n        var i = 0\n        arg.map((item, index) => {\n            i++\n            if (i == length) {\n                array.push(\n                    <span key={index + item} className={\"myapp-p-r-5\"}>\n                        {item}\n                    </span>\n                )\n            } else {\n                array.push(\n                    <span key={index + item} className={\"myapp-p-r-5\"}>\n                        {item} ,\n                    </span>\n                )\n            }\n        })\n        return array\n    }\n\n    showHistory() {\n        const array = []\n        const { data } = this.state\n        const history = data && data.trackingInfo ? this.state.data.trackingInfo ? this.state.data.trackingInfo.history ? this.state.data.trackingInfo.history : [] : [] : []\n        const totalPieces = data && data.trackingInfo ? this.state.data.trackingInfo ? this.state.data.trackingInfo.totalPieces ? this.state.data.trackingInfo.totalPieces : 1 : null : null\n        let lastItem = { localDate: '' }\n        let i = 41000\n        history.map((item, index) => {\n            if (item.localDate !== lastItem.localDate) {\n                array.push(\n                    <TimeLineLabel key={\"trackingHistoriId\" + item.localDateTime + index} value={item.localDate} />\n                )\n            }\n\n            array.push(\n                <TimeLine key={\"trackingHistor\" + index}\n                    title={<>\n                        {item.count} {\"  \"} از {\"  \"} {totalPieces} {\"  \"}\n                        بسته{\" : \"}\n                        <FormattedMessage\n                            id={item.state}\n                            defaultMessage={item.state}\n                        />\n                    </>}\n                    clock={item.localDateTime}\n                    address={item.location}\n                    iconName={\n                        item.state == \"ISSUED\" ? \"fa-file bg-green\" :\n                            item.state == \"DRAFT\" ? \"fa-file\" :\n                                item.state == \"MANIFESTED\" ? \"fa-book bg-maroon\" :\n                                    item.state == \"IN_TRANSIT\" ? \"fa-plane bg-yellow\" :\n                                        item.state == \"CONFIRMED_PICKUP_REQ\" ? \"fa-envelope bg-orange\" :\n                                            item.state == \"VOIDED\" ? \"fa-ban bg-red\" :\n                                                item.state == \"IN_WAREHOUSE\" ? \"fa-building bg-teal\" :\n                                                    item.state == \"DELIVERED\" ? \"fa-home bg-olive\" :\n                                                        item.state == \"NOT_DELIVERED\" ? \"fa-thumbs-down bg-teal\" :\n                                                            item.state == \"RETURNED\" ? \"fa-thumbs-down bg-navy\" :\n                                                                item.state == \"MASTERED\" ? \"fa-book bg-blue\" :\n                                                                    item.state == \"OFFLOADED\" ? \"fa-book bg-red\" :\n                                                                        item.state == \"OUT_FOR_DELIVERY\" ?\n                                                                            \"fa-truck bg-purple\"\n                                                                            : ''\n                    }\n                />\n            )\n            lastItem = item\n        })\n        return array\n        // return( <TimeLineLabel value={item.localDate} />)\n    }\n\n    showStatus() {\n        const array = []\n        const { data } = this.state\n        const total = data && data.trackingInfo ? data.trackingInfo.totalPieces : 0\n        const item = data && data.trackingInfo ? data.trackingInfo.current : null\n        let i = 81000\n        if (item != null) {\n            return (<>\n                <li className=\"form-group row control-label col-form-label\">\n                    <i className=\"m-r-10 mdi mdi-checkbox-blank-circle m-r-12 text-cyan font-7\"></i>\n                    <span>\n                        <FormattedMessage\n                            id={\"waybillNumber\"}\n                            defaultMessage={\"waybillNumber\"}\n                        />: {data.waybillNumber}\n                    </span>\n\n                </li>\n                <li className=\"form-group row control-label col-form-label\">\n                    <i className=\"m-r-10 mdi mdi-checkbox-blank-circle m-r-12 text-cyan font-7\"></i>\n                    <span\n                    >\n                        <FormattedMessage\n                            id={\"reference\"}\n                            defaultMessage={\"reference\"}\n                        /> : {data.reference}\n                    </span>\n                </li>\n                <li className=\"form-group row\">\n                    <i className=\"m-r-10 mdi mdi-checkbox-blank-circle m-r-12 text-cyan font-7\"></i>\n                    <span>\n                        <FormattedMessage\n                            id={\"currentStatus\"}\n                            defaultMessage={\"currentStatus\"}\n                        />\n                    </span>\n                </li>\n                <li key={\"currentprent\" + i} className=\"form-group row\">\n                    <ViewData\n                        key={item + i}\n                        value={<>\n                            <i className=\"m-r-10 mdi mdi-checkbox-blank-circle m-r-12 text-cyan font-7\"></i>\n                            {item.count} از {total} بسته\n                               {\" \"}\n                            <span className={\"label label-rounded \" +\n                                item.state == \"ISSUED\" ? \"label label-rounded  bg-green\" :\n                                item.state == \"DRAFT\" ? \"label label-rounded fa-file\" :\n                                    item.state == \"MANIFESTED\" ? \"label label-rounded  bg-maroon\" :\n                                        item.state == \"IN_TRANSIT\" ? \"label label-rounded  bg-yellow\" :\n                                            item.state == \"CONFIRMED_PICKUP_REQ\" ? \"label label-rounded  bg-orange\" :\n                                                item.state == \"VOIDED\" ? \"label label-rounded  bg-red\" :\n                                                    item.state == \"IN_WAREHOUSE\" ? \"label label-rounded  bg-teal\" :\n                                                        item.state == \"DELIVERED\" ? \"label label-rounded bg-olive\" :\n                                                            item.state == \"NOT_DELIVERED\" ? \"label label-rounded  bg-teal\" :\n                                                                item.state == \"RETURNED\" ? \"label label-rounded  bg-navy\" :\n                                                                    item.state == \"MASTERED\" ? \"label label-rounded  bg-blue\" :\n                                                                        item.state == \"OFFLOADED\" ? \" bg-red\" :\n                                                                            item.state == \"label label-rounded  OUT_FOR_DELIVERY\" ?\n                                                                                \"label label-rounded   bg-purple\"\n                                                                                : ''}\n                            >\n                                <FormattedMessage\n                                    id={item.state}\n                                    defaultMessage={item.state}\n                                />\n                            </span>\n                            {\" \"}\n                            {item.location}\n                        </>}\n                        valueClassName=\"padding-right col-md-12\"\n                        icon={true}\n                    />\n                </li>\n\n\n\n                <li key={\"currentpartsNumbers\" + i} className=\" m-r-myapp-25 font-color \">\n                    <i className=\"m-r-10 mdi mdi-checkbox-blank-circle-outline m-r-12 text-cyan font-7\"></i>\n                    <span>{this.showPartNumber(item.partNumbers)}\n                    </span>\n                </li>\n                {(!item.comment) ?\n                    <div className=\"m-b-app\"></div>\n                    :\n                    <ul>\n\n                        <li key={\"comment\" + i} className=\"m-b-app m-r-myapp-25 font-color \">\n                            <i className=\"m-r-10 mdi mdi-checkbox-blank-circle-outline m-r-12 text-cyan font-7\"></i>\n                            {item.comment}\n                        </li>\n                    </ul>\n                }\n            </>)\n        }\n    }\n\n    onChange(e) {\n        // waybillNumber = e.target.value\n        this.setState({ waybillNumber: e.target.value }, this.getData)\n    }\n    submit = (e) => {\n        e.preventDefault()\n        this.getData()\n    }\n\n\n    render() {\n        const { data, showTab, waybillNumber } = this.state\n        return (\n            <>\n\n\n                <div class=\"container px-lg-5 \">\n\n                    <Row>\n                        <Col className=\"container\" sm={12} >\n                            <Card\n                                cardTitle={\n                                    <FormattedMessage\n                                        id={\"trackShipment\"}\n                                        defaultMessage={\"trackShipment\"}\n                                    />\n                                }\n                                cardClass=\" \"\n                                cardBodyClass=\"myap-p-t-0\"\n                            >\n                                <form className=\"form-group row\" onSubmit={this.submit}>\n                                    <label\n                                        htmlFor=\"fname\"\n                                        className=\"col-sm-3 col-md-3 text-right control-label\"\n                                    >\n                                        <FormattedMessage\n                                            id={\"waybillNumber\"}\n                                            defaultMessage={\"waybillNumber\"}\n                                        />\n\n                                    </label>\n                                    <div className=\"col-sm-12  col-md-7 \">\n                                        <input\n                                            type={\"text\"}\n                                            className=\"form-control\"\n                                            id={\"textid\"}\n                                            placeholder={\"placeholder\"}\n                                            onChange={(e) => this.onChange(e)}\n                                            value={waybillNumber}\n                                            required\n                                        />\n\n                                    </div>\n\n                                    <div className=\"col-sm-12  col-md-2 \">\n                                        <button\n                                            type=\"submit\"\n                                            className=\"btn btn-info\"\n                                        >\n\n                                            <i className=\"ti-search\">\n                                            </i>\n                                        </button>\n                                    </div>\n\n                                </form>\n                            </Card>\n                        </Col>\n                    </Row>\n\n                    {data != null &&\n                        <Row>\n\n                            <Col className=\"container\"  >\n                                <Card cardTitle={<FormattedMessage\n                                    id={\"shipperStatus\"}\n                                    defaultMessage={\"shipperStatus\"}\n                                />} cardClass=\" \" cardBodyClass=\"myap-p-t-0\" >\n                                    <ul class=\"nav nav-tabs directionRTL\" role=\"tablist\">\n                                        <li class=\"nav-item\" onClick={() => this.setState({ showTab: \"currentStatus\" })}>\n                                            <span className={showTab === \"currentStatus\" ? \"nav-link active\" : \"nav-link \"}\n                                                role=\"tab\"\n                                                aria-selected={showTab === \"currentStatus\" ? \"true\" : \"false\"}>\n                                                <span class=\"hidden-sm-up\">\n                                                    <i class=\"ti-home\"></i></span>\n                                                <span class=\"hidden-xs-down\">\n                                                    <FormattedMessage\n                                                        id={\"currentStatus\"}\n                                                        defaultMessage={\"currentStatus\"}\n                                                    />\n                                                </span></span>\n                                        </li>\n                                        <li class=\"nav-item\" onClick={() => this.setState({ showTab: \"signature\" })} >\n                                            <span\n                                                className={showTab === \"signature\" ? \"nav-link active\" : \"nav-link \"}\n                                                role=\"tab\"\n                                                aria-selected={showTab === \"signature\" ? \"true\" : \"false\"}>\n                                                {/* <span class=\"hidden-sm-up\">\n                                                    <i class=\"ti-user\">  </i> \n                                                    </span> */}\n                                                <span class=\"hidden-xs-down\">\n                                                    <FormattedMessage\n                                                        id={\"signature\"}\n                                                        defaultMessage={\"signature\"}\n                                                    />\n                                                </span></span>\n                                        </li>\n                                    </ul>\n\n                                    <div class=\"tab-content tabcontent-border\">\n                                        <div class=\"tab-pane active\" id=\"home\" role=\"tabpanel\">\n                                            <div class=\"p-20\">\n                                                {showTab === \"currentStatus\" ? <>\n\n                                                    <ul key=\"uls1\" className=\"list-style-none\">\n                                                        {this.showStatus()}\n                                                    </ul>\n                                                    <ul key=\"uls2\" className=\"timeline card text-black bg-light\">\n                                                        {this.showHistory()}\n                                                    </ul> </>\n                                                    :\n\n\n                                                    <ShowImage\n                                                        data={data && data.attachments ? data.attachments : []}\n                                                        waybillNumber={waybillNumber} />\n                                                }\n\n                                            </div>\n                                        </div>\n                                    </div>\n                                </Card>\n                            </Col>\n                        </Row>}\n                </div>\n\n            </>\n        )\n    }\n}\n\nShipperStatus.defaultProps = {\n    data: {\n        totalAmount: 'totalAmount',\n        paymentMethod: 'paymentMethod',\n        chargeParty: 'chargeParty',\n        paymentReferenceInfo: 'paymentReferenceInfo'\n    }\n}\n\nexport default withRouter(ShipperStatus)\n"]},"metadata":{},"sourceType":"module"}